/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/control_screen/ControlViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include "devices.h"

#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>


ControlViewBase::ControlViewBase() :
    buttonCallback(this, &ControlViewBase::buttonCallbackHandler)
{

    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    box1.setPosition(0, 0, 480, 272);
    box1.setColor(touchgfx::Color::getColorFromRGB(245, 224, 64));

    line1.setPosition(0, 2, 480, 272);
    line1Painter.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    line1.setPainter(line1Painter);
    line1.setStart(5, 5);
    line1.setEnd(420, 272);
    line1.setLineWidth(160);
    line1.setLineEndingStyle(touchgfx::Line::ROUND_CAP_ENDING);

    toggleButton1.setXY(125, 9);
    toggleButton1.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_OFF_ID), touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_ON_ID));
    toggleButton1.setAction(buttonCallback);

    toggleButton2.setXY(353, 13);
    toggleButton2.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_OFF_ID), touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_ON_ID));
    toggleButton2.setAction(buttonCallback);

    toggleButton3.setXY(353, 63);
    toggleButton3.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_OFF_ID), touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_ON_ID));
    toggleButton3.setAction(buttonCallback);

    toggleButton4.setXY(353, 116);
    toggleButton4.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_OFF_ID), touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_ON_ID));
    toggleButton4.setAction(buttonCallback);

    toggleButton5.setXY(353, 173);
    toggleButton5.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_OFF_ID), touchgfx::Bitmap(BITMAP_BLUE_TOGGLEBARS_TOGGLE_ROUND_SMALL_BUTTON_ON_ID));
    toggleButton5.setAction(buttonCallback);

    textArea1.setXY(31, 13);
    textArea1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1.setLinespacing(0);
    textArea1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_5GPJ));

    textArea1_1.setXY(275, 13);
    textArea1_1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1_1.setLinespacing(0);
    textArea1_1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_XBL0));

    textArea1_2.setXY(31, 67);
    textArea1_2.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1_2.setLinespacing(0);
    textArea1_2.setTypedText(touchgfx::TypedText(T___SINGLEUSE_ZKBN));

    textArea1_3.setXY(31, 123);
    textArea1_3.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1_3.setLinespacing(0);
    textArea1_3.setTypedText(touchgfx::TypedText(T___SINGLEUSE_VL65));

    textArea1_4.setXY(31, 177);
    textArea1_4.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    textArea1_4.setLinespacing(0);
    textArea1_4.setTypedText(touchgfx::TypedText(T___SINGLEUSE_ENSK));

    buttonWithLabel1.setXY(310, 212);
    buttonWithLabel1.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_SMALL_ID), touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_ROUND_EDGE_SMALL_PRESSED_ID));
    buttonWithLabel1.setLabelText(touchgfx::TypedText(T___SINGLEUSE_YKXE));
    buttonWithLabel1.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonWithLabel1.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonWithLabel1.setAction(buttonCallback);

    add(__background);
    add(box1);
    add(line1);
    add(toggleButton1);
    add(toggleButton2);
    add(toggleButton3);
    add(toggleButton4);
    add(toggleButton5);
    add(textArea1);
    add(textArea1_1);
    add(textArea1_2);
    add(textArea1_3);
    add(textArea1_4);
    add(buttonWithLabel1);
}

void ControlViewBase::setupScreen()
{

}

void ControlViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &toggleButton1)
    {
        //Fan1
        //When toggleButton1 clicked execute C++ code
        //Execute C++ code
        if(toggleButton2.getState()){
        	room.fan1=1;
        }else{
        	room.fan1=0;
        }
    }
    else if (&src == &toggleButton2)
    {
        //Fan2
        //When toggleButton2 clicked execute C++ code
        //Execute C++ code
        if(toggleButton2.getState()){
        	room.fan2=1;
        }else{
        	room.fan2=0;
        }
    }
    else if (&src == &toggleButton3)
    {
        //window
        //When toggleButton3 clicked execute C++ code
        //Execute C++ code
        if(toggleButton3.getState()){
        	room.window=1;
        }else{
        	room.window=0;
        }
    }
    else if (&src == &toggleButton4)
    {
        //curtain
        //When toggleButton4 clicked execute C++ code
        //Execute C++ code
        if(toggleButton4.getState()){
        	room.curtain=1;
        }else{
        	room.curtain=0;
        }
    }
    else if (&src == &toggleButton5)
    {
        //heater
        //When toggleButton5 clicked execute C++ code
        //Execute C++ code
        if(toggleButton5.getState()){
        	room.heater=1;
        }else{
        	room.heater=0;
        }
    }
    else if (&src == &buttonWithLabel1)
    {
        //home
        //When buttonWithLabel1 clicked change screen to Main
        //Go to Main with screen transition towards West
        application().gotoMainScreenWipeTransitionWest();
    }
}
